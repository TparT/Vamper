using Microsoft.Extensions.DependencyInjection;
using Microsoft.Extensions.Hosting;
using Serilog;
using TwitchLib.EventSub.Websockets.Extensions;

namespace Vamper
{
    public class Program
    {
        public const string FeelsOkayMan = "@@@@@@@@@@@@@@@@@@@@@@@@@@@&%%%%%&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n@@@@@@@@@@@@@@@@@@@@@&/,*/*********/***(&@@@@@@@@@%/**********#@@@@@@@@@@@@@@@@@\r\n@@@@@@@@@@@@@@@@@@#,********************/*,(%(**/**************/*(@@@@@@@@@@@@@@\r\n@@@@@@@@@@@@@@@@*****************************.*********************%@@@@@@@@@@@@\r\n@@@@@@@@@@@@@@/**********/*,,,*******,,,,*/**/,*********************#@@@@@@@@@@@\r\n@@@@@@@@@@@@#,/*******,,*/******************,,*,,,,,,,,*******,,,,,*,%@@@@@@@@@@\r\n@@@@@@@@@@@(**************************/////////*.*************************(@@@@@\r\n@@@@@@@@@@***********************,,,**/////////***,.******,,,,,,*****,,,,,,,,&@@\r\n@@@@@@@%(,***************//*,,*/*,,,,*/(((/***,***,,,.***,,,,**********,,**,,,**\r\n@@@@/*/**,/************,*//*,,,,/%&, %*    *@@@@@@@#/.*/**,*#@% ,&,    ,@@@&*.,*\r\n@@%,/***,***********.****//*/&@@@&      %&.  @@@@@@@@@&.%@@@@#   , .%#. .&@@@@@@\r\n@/***********************,*&@@@@@%           &@@@@@@@@(@@@@@@(          .&@@@@@@\r\n./*************************/*,*%@@#        /@@@@@@&/,,,#@@@@@@%       .&@@&(/,,,\r\n/*************************/*,,,*/*,,*****,,,,,,*//**,,/**///**,,****/**//**/*%@@\r\n**************************************,,,,*,,,**************************/**%@@@@\r\n********************************************.,*/********,,*////////**,,#@@@@@@@@\r\n*************************************,,,**/****************//,*////*****/&@@@@@@\r\n*************************************************************************/*@@@@@\r\n*********************.*****.,/**********************************************&@@@\r\n*******************,*//*/////*,,*/******************************************/@@@\r\n********************,////,,//**///*,,,**////***************************//*,,,*%@\r\n*********************.///*//*,,*/////**/////**,,,,,,,,**********,,,,,,*////*/*(@\r\n**********************/,.*///**///**,,,,,****//////////////////////////****/&@@@\r\n**************************/*,,,,**////*/*/*///////*****************////////%@@@@\r\n*********************************///**,,,,,,***//****///////////////////**#@@@@@\r\n************************************************//****************,(&@@@@@@@@@@@\r\n.**,,**/*****************************************************//*#@@@@@@@@@@@@@@@\r\n///*,,*/*,,,,*********************************************/(&@@@@@@@@@@@@@@@@@@@\r\n////////**,,**///******,,,,,,,,,,,,,,,******,,,,,,,,..#@@@@@@@@@@@@@@@@@@@@@@@@@\r\n////////////////***,,,,,,,,,,*********///*****,,,,,////**#@@@@@@@@@@@@@@@@@@@@@@\r\n///////////////////////////////////////////////////////////*/&@@@@@@@@@@@@@@@@@@\r\n//////////////////////////////////////////////////////////////,&@@@@@@@@@@@@@@@@";

        public const string Banner =
            "\n\n ██▒   █▓ ▄▄▄       ███▄ ▄███▓ ██▓███  ▓█████  ██▀███  \r\n▓██░   █▒▒████▄    ▓██▒▀█▀ ██▒▓██░  ██▒▓█   ▀ ▓██ ▒ ██▒\r\n ▓██  █▒░▒██  ▀█▄  ▓██    ▓██░▓██░ ██▓▒▒███   ▓██ ░▄█ ▒\r\n  ▒██ █░░░██▄▄▄▄██ ▒██    ▒██ ▒██▄█▓▒ ▒▒▓█  ▄ ▒██▀▀█▄  \r\n   ▒▀█░   ▓█   ▓██▒▒██▒   ░██▒▒██▒ ░  ░░▒████▒░██▓ ▒██▒\r\n   ░ ▐░   ▒▒   ▓▒█░░ ▒░   ░  ░▒▓▒░ ░  ░░░ ▒░ ░░ ▒▓ ░▒▓░\r\n   ░ ░░    ▒   ▒▒ ░░  ░      ░░▒ ░      ░ ░  ░  ░▒ ░ ▒░\r\n     ░░    ░   ▒   ░      ░   ░░          ░     ░░   ░ \r\n      ░        ░  ░       ░               ░  ░   ░     \r\n     ░    \n\n";

        public const string TparT = "  _____            _ __                           _____  \r\n |_   _|   ___    | '_ \\  __ _      _ _    ___   |_   _| \r\n   | |    |___|   | .__/ / _` |    | '_|  |___|    | |   \r\n  _|_|_   _____   |_|__  \\__,_|   _|_|_   _____   _|_|_  \r\n_|\"\"\"\"\"|_|     |_|\"\"\"\"\"|_|\"\"\"\"\"|_|\"\"\"\"\"|_|     |_|\"\"\"\"\"| \r\n\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-'\"`-0-0-' \n\n";

        public static void Main(string[] args)
        {
            Console.Title = "Vamper - Made by T-par-T | Your free trial will end in 30 days :D";

            Console.ForegroundColor = ConsoleColor.Green;
            Console.WriteLine(FeelsOkayMan);

            Console.ForegroundColor = ConsoleColor.Red;
            Console.WriteLine(Banner);

            Console.ForegroundColor = ConsoleColor.DarkYellow;
            Console.WriteLine("\t\t\tMADE BY:\n");
            Console.WriteLine(TparT);

            CreateHostBuilder(args).Build().Run();
        }

        private static IHostBuilder CreateHostBuilder(string[] args) =>
            Host.CreateDefaultBuilder(args)
            .UseSerilog()
                .ConfigureServices((hostContext, services) =>
                {
                    services.AddLogging();
                    services.AddTwitchLibEventSubWebsockets();
                    services.AddHostedService<VamperWebsocketMonitorHostedService>();
                });
    }
}
